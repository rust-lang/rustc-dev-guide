# Common `x` commands

| Command                                        | Explanation                                 | Remarks                                                                                                                                                                     |
|------------------------------------------------|---------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `x build --keep-stage 0`                       | Assume stage0 std can be reused             |                                                                                                                                                                             |
| `x build --stage 1`                            | Build up to stage1 std and create a sysroot |                                                                                                                                                                             |
| `x clean`                                      | Invalidate build config cache               | Does not clean LLVM cache                                                                                                                                                   |
| `x dist rustc-dev`                             | Build rustc-dev                             |                                                                                                                                                                             |
| `x test --stage 0 library/std`                 | Test standard library                       |                                                                                                                                                                             |
| `x check library/std`                          | Only check standard library                 |                                                                                                                                                                             |
| `x check`                                      | Check compiler/rustc                        |                                                                                                                                                                             |
| `x check --all-targets`                        | Cross-compile for a lot of targets          | Can be made less failure-prone by putting the imports inside   the function where they're used rather than using separate configs; creates a   problem of missing functions |
| `x build library/std --stage 0`                | If only working on standard library         | Builds library/std then compiler/rustc then library/std again                                                                                                               |
| `x test --stage 1`                             | Test the compiler                           |                                                                                                                                                                             |
| `x test --stage 1 --keep-stage-std 1 tests/ui` | Run UI tests with cached stage1 std         |                                                                                                                                                                             |
